<div class="recipe-create-container">
    <h2 class="page-title">SUBMIT YOUR RECIPE</h2>
    
    <div class="recipe-form">
      <div class="form-row">
        <div class="form-group recipe-name">
          <input type="text" placeholder="Recipe name" [(ngModel)]="newRecipe.name" class="form-control">
        </div>
        
        <div class="form-group image-upload">
          <div class="upload-btn" (click)="triggerFileInput()">
            <span *ngIf="!imagePreviewUrl">Upload image</span>
            <span *ngIf="imagePreviewUrl" class="file-selected">Change image</span>
            <span class="upload-icon">⬆</span>
          </div>
          <input type="file" #fileInput style="display: none" (change)="onFileSelected($event)" accept="image/*">
        </div>
      </div>
      
      <div class="form-group" *ngIf="imagePreviewUrl">
        <div class="image-preview">
          <img [src]="imagePreviewUrl" alt="Recipe preview">
        </div>
      </div>
      
      <div class="form-group">
        <textarea placeholder="Recipe description and steps" [(ngModel)]="newRecipe.description" class="form-control description-textarea" rows="6"></textarea>
      </div>
      
      <div class="form-row">
        <div class="form-group half">
          <select [(ngModel)]="newRecipe.cuisine" class="form-control">
            <option value="" disabled selected>Cuisine type</option>
            <option *ngFor="let cuisine of cuisineOptions" [value]="cuisine">{{cuisine}}</option>
          </select>
        </div>
        
        <div class="form-group half">
          <select [(ngModel)]="newRecipe.category" class="form-control">
            <option value="" disabled selected>Category</option>
            <option *ngFor="let category of categoryOptions" [value]="category">{{category}}</option>
          </select>
        </div>
      </div>
      
      <div class="form-group">
        <div class="tag-input-container">
          <input type="text" placeholder="Mention tags separated by comma..." [(ngModel)]="tagInput" class="form-control" (keyup.enter)="addTag()">
          <button class="add-btn" (click)="addTag()">+</button>
        </div>
        <div class="tags-container" *ngIf="newRecipe.tags && newRecipe.tags.length > 0">
          <span class="tag" *ngFor="let tag of newRecipe.tags">
            {{tag}} <span class="remove-tag" (click)="removeTag(tag)">×</span>
          </span>
        </div>
      </div>
      
      <div class="form-group">
        <div class="tag-input-container">
          <input type="text" placeholder="Mention recipe ingredients by comma..." [(ngModel)]="ingredientInput" class="form-control" (keyup.enter)="addIngredient()">
          <button class="add-btn" (click)="addIngredient()">+</button>
        </div>
        <div class="tags-container" *ngIf="newRecipe.ingredients && newRecipe.ingredients.length > 0">
          <span class="tag ingredient-tag" *ngFor="let ingredient of newRecipe.ingredients">
            {{ingredient}} <span class="remove-tag" (click)="removeIngredient(ingredient)">×</span>
          </span>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group half">
          <div class="cooking-time-input">
            <input type="number" placeholder="Cooking time in minutes" [(ngModel)]="newRecipe.cookingTime" class="form-control" min="1">
            <span class="time-unit">min</span>
          </div>
        </div>
        
        <div class="form-group half">
          <select [(ngModel)]="newRecipe.difficultyLevel" class="form-control">
            <option value="" disabled selected>Difficulty level</option>
            <option *ngFor="let difficulty of difficultyOptions" [value]="difficulty">{{difficulty}}</option>
          </select>
        </div>
      </div>
      
      <div class="form-group">
        <input type="text" placeholder="Mention dietary restrictions" [(ngModel)]="newRecipe.dietaryRestrictions" class="form-control">
      </div>
      
      <div class="form-actions">
        <button class="btn submit-btn" (click)="submitRecipe()">SUBMIT</button>
        <button class="btn cancel-btn" (click)="cancel()">CANCEL</button>
      </div>
    </div>
  </div>